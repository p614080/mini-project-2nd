<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글쓰기</title>
    <link rel="stylesheet" href="../css/cs/CsWriting.css">
    <iframe src="../main/Header.html" style="width: 100%; border:none;" scrolling="no"></iframe>
</head>
<body>
    <div class="sidecontainer">
        <iframe src="/main/Sidemenu.html" frameborder="0" scrolling="no"></iframe>
        
        <div class="body_div">
            <div class="menu_div">
            <h1>글쓰기</h1>
        </div>

        <div class="table_div">
        <table>
            <tr>
                <td style="height: 50px; background-color: #F67280;"><b>제목</b></td>
            </tr>
            <tr>
                <td style="height: 150px;"><b>내용</b></td>
            </tr>
        </table>
        <div>
            <input type="file" id="fileBtn">
        </div>
        <div id="control">
            <input type="checkbox" id="privateMember" value="비공개" onclick="privatePw()"> 비공개
            <input type="text" id="password" placeholder="비밀번호(숫자)를 입력하세요">
            <input type="button" id="registrationBtn" value="등록" onclick="passwodrcheck()">
            <input type="button" id="listBtn" value="목록" onclick="pagemove()">
        </div>
    </div>
    
    <script>
        function privatePw(){
            if(document.getElementById('privateMember').checked){
                // console.log('작동됨?');
                document.getElementById('password').style.display = 'inline-block';
            }else{
                // console.log('작동안됨?');
                document.getElementById('password').style.display = 'none';

            }
        }

        function passwodrcheck(){
            // alert("확인");
            let passwordInput = document.querySelector('#password').value;
            let numberPattern = /^[0-9]+$/; // 오직 숫자만 허용하는 정규식 패턴
            let privateMemberChecked = document.getElementById('privateMember').checked;
            
            

            if (!privateMemberChecked) {
                alert('글이 등록되었습니다');
                location.href='CsQuestion.html';
                return;
            }

            // 정규식으로 숫자인지 확인
            if (!numberPattern.test(passwordInput)) {
                alert('비밀번호가 올바르지 않습니다');
            } else {
                alert('비공개 게시글로 등록되었습니다');
                location.href='CsQuestion.html';
            }

            document.querySelector('#password').value = ''; //비밀번호 초기화
        

        }

        function pagemove(){
            if(confirm('목록으로 가시겠습니까?')){
                location.href='CsQuestion.html';
            }
        }

        
    </script>
    </div>
</div>
</body>
<iframe src="../main/Footer.html" style="width: 100%;" frameborder="0"></iframe>
</html>