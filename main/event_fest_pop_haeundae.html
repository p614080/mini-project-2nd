<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>해운대</title>
</head>
<body>
    <h1 id="districtName">행사 목록</h1>
    <ul id="Busan">
        <!-- JSON에서 로드한 행사가 여기에 동적으로 추가됩니다 -->
    </ul>

    <script>
      // URL에서 구 이름을 가져옵니다.
      const district = document.title.split(' ')[0]; 
      
      // 페이지의 제목을 구 이름으로 설정합니다.
      document.getElementById('districtName').textContent = `${district} 행사 목록`;

      fetch('./json/busan_events.json')
      .then(response => response.json())
      .then(data => {
          const eventList = document.getElementById('haeundae');
          const events = data.Busan[district].events;

          if (events) {
              events.forEach(event => {
                  const li = document.createElement('li');
                  li.classList.add('fest', 'pop');

                  const a = document.createElement('a');
                  a.href = event.link;

                  const img = document.createElement('img');
                  img.src = event.image;
                  img.alt = event.title;

                  const p = document.createElement('p');
                  p.textContent = event.description;

                  a.appendChild(img);
                  li.appendChild(a);
                  li.appendChild(p);
                  eventList.appendChild(li);
              });
          } else {
              eventList.innerHTML = "<p>해당 구에 대한 행사가 없습니다.</p>";
          }
      })
      .catch(error => console.error('Error loading events:', error));
    </script>
</body>
</html>

